<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Course1</title>
</head>
<body>
	<h1>请将以下代码复制到控制台</h1>
	<pre>
		
			var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

			var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

			function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

			var Observer = function () {
			    function Observer(data) {
			        _classCallCheck(this, Observer);

			        if ((typeof data === 'undefined' ? 'undefined' : _typeof(data)) === 'object') {
			            this.data = data;
			            this.walk(this.data);
			        } else {
			            console.log('请传入对象');
			        }
			    }

			    _createClass(Observer, [{
			        key: 'walk',
			        value: function walk(obj) {
			            var keys = Object.keys(obj); //返回该对象的所有可枚举自身属性的属性名。
			            for (var i = 0; i < keys.length; i++) {
			                this.convert(keys[i], obj[keys[i]]);
			            }
			        }
			    }, {
			        key: 'convert',
			        value: function convert(key, val) {
			            Object.defineProperty(this.data, key, {
			                enumerable: true,
			                configurable: true,
			                get: function get() {
			                    console.log('你访问了' + key);
			                    return val;
			                },
			                set: function set(newVal) {
			                    console.log('\u4F60\u8BBE\u7F6E\u4E86' + key + ',\u65B0\u7684\u503C\u4E3A' + newVal);
			                    if (newVal === val) return;
			                    val = newVal;
			                }
			            });
			        }
			    }]);

			    return Observer;
			}();

			var app1 = new Observer({
			    name: 'youngwind',
			    age: 25
			});

			var app2 = new Observer({
			    university: 'bupt',
			    major: 'computer'
			});
	</pre>
	<h1>要实现的结果如下：</h1>
		<h2> 输入：app1.data.name 输出：你访问了 name</h2>
		 <h2> 输入：app1.data.age = 100; 输出： 你设置了 age，新的值为100</h2>
		 <h2> 输入：app2.data.university 输出： 你访问了 university</h2>
		 <h2> 输入：app2.data.major = 'science'  输出： 你设置了 major，新的值为 science</h2>
	</h1>
</body>
</html>